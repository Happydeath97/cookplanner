{% extends "layout.html" %}

{% block title %}
    Meal Plan
{% endblock %}

{% block main %}
    <h1>Here you will see a mealplan</h1>
    <br>

    <h2>{{ meal_plan.name }}</h2>

<table>
    <thead>
        <tr>
            <th></th>
            <th>Breakfast</th>
            <th>Lunch</th>
            <th>Snack</th>
            <th>Dinner</th>
        </tr>
    </thead>
    <tbody>
        {% for day, value in meal_plan.days %}
        <tr>
            <td>{{ day }}</td>
            {% if value.Breakfast.recipe %}
                <td><a href="{% url 'recipe' value.Breakfast.recipe.id %}">{{ value.Breakfast.recipe }}</a></td>
            {% else %}
                <td>EMPTY</td>
            {% endif %}
            {% if value.Lunch.recipe %}
                <td><a href="{% url 'recipe' value.Lunch.recipe.id %}">{{ value.Lunch.recipe }}</a></td>
            {% else %}
                <td>EMPTY</td>
            {% endif %}
            {% if value.Snack.recipe %}
                <td><a href="{% url 'recipe' value.Snack.recipe.id %}">{{ value.Snack.recipe }}</a></td>
            {% else %}
                <td>EMPTY</td>
            {% endif %}
            {% if value.Dinner.recipe %}
                <td><a href="{% url 'recipe' value.Dinner.recipe.id %}">{{ value.Dinner.recipe }}</a></td>
            {% else %}
                <td>EMPTY</td>
            {% endif %}

        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Shopping list for a week</h2>
<ul>
{% for item in meal_plan.ingredient_amounts %}
    <li>{{ item.ingredient }}: {{ item.amount }}{{ item.unit }}</li>
{% endfor %}
</ul>
{% endblock %}